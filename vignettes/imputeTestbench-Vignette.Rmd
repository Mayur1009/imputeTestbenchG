---
title: "imputeTestbench : Test bench for Missing Data Imputing Models/Methods Comparison"
author: "Neeraj Bokde   (http://www.neerajbokde.com/cran/imputetestbench)"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Test bench for Missing Data Imputing Models/Methods Comparison}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

This Document is to introduce the R package 'imputeTestbench'. It is an testing workbench for comparison of missing data imptation models/methods. It compares imputing methods with reference to RMSE, MAE or MAPE parameters. It allows to add new proposed methods to test bench and to compare with other methods. The function `append_method()` allows to add multiple numbers of methods to the existing methods available in test bench.

Following example describs the working of this package:

Consider a sample data `datax` as follows:
```{r}
datax <- c(1:5,1:5,1:5,1:5,1:5,1:5,1:5,1:5,1:5,1:5,1:5,1:5,1:5,1:5,1:5,1:5,1:5,1:5,1:5,1:5,1:5)
```

Import library for Package `imputeTestbench` as follows:
```{r}
library(imputeTestbench)
```

The function `impute_errors()` is used to compare imputing methods with reference to RMSE, MAE or MAPE parameters. Syntax of `impute_errors()' as shown below:

`impute_errors(dataIn, missPercentFrom, missPercentTo, interval, repetition, errorParameter, MethodPath, MethodName)`


where,

- `dataIn` is input data for testing
- `missPercentFrom` is variable from which percent of missing values to be considered
- `missPercentTo` is variable to state upto what percent missing values are to be considered
- `interval` is interval between consecutive missPercent values
- `repetition` is an integer to decide the numbers of repetition to be done for each missPercent value
- `errorParameter` is type of error calculation (RMSE, MAE or MAPE)
- `MethodPath` is location of function for the proposed imputation method
- `MethodName` is name for function for the proposed imputation method


At simplest form, function `impute_errors()` can we used as:

```{r, fig.height= 5, fig.width= 7.5}
q <- impute_errors(datax)
q
# By default, the bar plot is used to show the comparison
plot_errors(q)
# Also, User can plot the comparison with line plot as:
plot_errors(dataIn = q, plotType = 2)
```

By default, this function compares two basic imputation methods, i.e. Historical means and Interpolation methods. The `plot_errors()` function is used to plot the comparison plots between different methods. This test bench allows to add one more imputing method to compare with already existing methods. The only care is to be takes as, the new imputing method is to be designed in function format such that it could return imputed data as output. Suppose, following function is the desired method to add in test bench.

`===============================`

`inter <- function(outs)`

`{`

`  library(imputeTS)`

`  outs <- ts(outs)`

`  d <- na.random(outs)`

`  return(d)`

`}`

`===============================`

Save this function in new R script file and save it and note its Source location similar to `"source('~/imputeTestbench/R/inter.R')"` and use 'impute_errors()` function as:

```{r}
#aa <- append_method(existing_method = q,dataIn= datax,missPercentFrom = 10, missPercentTo = 80, interval = 10, MethodPath = "source('~/imputeTestbench/R/inter.R')", MethodName = "Random")

#aa
#plot_errors(aa)
```

This above code is written in commented format, since this function is dependent on other function and its location, which is not included in this package.

If user wishes to add more than one imputation methods to test bench, the function `append_method()` is used as:

```{r}
#bb <- append_method(existing_method = aa, dataIn= datax,missPercentFrom = 10, missPercentTo = 80, interval = 10, MethodPath = "source('~/imputeTestbench/R/PSFimpute.R')", MethodName = "PSFimpute")

#bb
#plot_errors(bb)
```

where

- `existing_method` is output obtained from `impute_error()` function
- `dataIn` is input data for testing
- `missPercentFrom` is variable from which percent of missing values to be considered
- `missPercentTo` is variable to state upto what percent missing values are to be considered
- `interval` is interval between consecutive missPercent values
- `repetition` is an integer to decide the numbers of repetition to be done for each missPercent value
- `errorParameter` is type of error calculation (RMSE, MAE or MAPE)
- `MethodPath` is location of function for the proposed imputation method
- `MethodName` is name for function for the proposed imputation method


Similarly, user can remove an imputation method from test bench with following function
```{r}
#cc <- remove_method(existing_method = bb, method_number = 1)
#cc
#plot_errors(cc)
```

To introduce missing patches as desired locations, `random` parameter is used. When `random = 1`, package itself inroduce missing values at completely random places, whereas when `random = 0`, it allows user to introduce missing patches as desired locations as shown in following code.
```{r}
dd <- impute_errors(random = 0, startPoint = c(10, 20, 30), patchLength = c(3, 4, 5))
dd
```
